@using MetaGraffiti.Web.Admin.Models;
@model CartoViewModel

@Html.Partial("_Nav")

<div class="row">
	<div class="col-sm-2">
		<div class="h1"><a href="@CartoViewModel.GetPlacesUrl()">Global Map</a></div>
		<hr />
		<div class="h1"><a href="@CartoViewModel.GetReportUrl()">Full Report</a></div>
		<hr />
		<br />
		<div>
			<a class="btn btn-@Model.AreaCss" href="@PlaceViewModel.GetSearchUrl()">Search...</a>
			<a class="btn btn-@Model.AreaCss" href="@PlaceViewModel.GetSearchUrl()">Create...</a>
			<a class="btn btn-@Model.AreaCss" href="@PlaceViewModel.GetReportUrl()">Import...</a>
		</div>
		<hr />
		<br />
		@if (Model.HasChanges)
		{
			<div class="alert alert-info font-weight-bold">
				There are unsaved changes!
			</div>
		}
		else if (Model.LastSaved.HasValue)
		{
			<div class="alert alert-success">
				Saved at @Model.LastSaved.ToString()
			</div>
		}
		<div class="form-group">
			<a class="btn btn-outline-info" href="@CartoViewModel.GetPersistUrl()">Persist Changes</a>
			<a class="btn btn-outline-secondary" href="@CartoViewModel.GetReloadUrl()">Reload Data</a>
		</div>
	</div>
	<div class="col-sm-2">
		<div class="h3">Countries</div>
		@foreach (var country in Model.Countries)
		{
			<div class="h4">
				<a href="@CartoViewModel.GetCountryUrl(country)">@country.Name</a>
			</div>
		}
	</div>
	<div class="col-sm-2">
		<div class="h3">Types</div>
		@foreach (var placeType in Model.PlaceTypes)
		{
			<div class="h4">
				<a href="@CartoViewModel.GetReportUrl(placeType)">@placeType</a>
			</div>
		}
	</div>
</div>